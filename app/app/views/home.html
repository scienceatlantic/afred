<p data-af-page-title="Home"></p>

<!-- Header (logo and search bar). -->
<div class="container-fluid af-home-header">
  <div class="text-center">
    <!-- AFRED Logo for desktop screens. -->
    <div data-ng-if="_getWidth() > 500">
      <div style="margin: 50px 0;">
        <a data-ui-sref="home">
          <img src="images/afred-logo-colour-gradient-bottom-tagline-470x125.png" alt="AFRED logo">
        </a>
      </div>
    </div>
    
    <!-- AFRED Logo for small screens. -->
    <div data-ng-if="_getWidth() <= 500">
      <div class="text-center" style="margin: 20px 0;">
        <a data-ui-sref="home">
          <img src="images/afred-symbol-bottom-text 200x170.png" alt="AFRED logo">
        </a>
      </div> 
    </div>
  </div>

  <!-- Search bar. -->
  <div class="text-center">
    <form class="form-inline" role="form" data-ng-submit="search.q && search.run()">
      <div class="form-group">
        <div class="input-group">
          <input class="form-control input-lg" data-ng-model="search.q" placeholder="E.g. electron microscope">
          <span class="input-group-btn">
            <button type="submit" class="btn btn-default btn-lg">
              <span class="fa fa-search"></span>
            </button>
          </span>
        </div>
      </div>
    </form>
  </div>
</div>

<!-- Submit your facility bar. -->
<div class="af-home-submit-your-facility-bar">
  <div class="container">
    <div class="row">
      <div class="col-md-2">
        <span class="h1">
          <span class="fa fa-gears fa-3x"></span>
        </span>
      </div>

      <div class="col-md-6">
        <br>
        <span class="h3">
          Do you have research <br data-ng-show="_getWidth() >= _bootstrap.grid.breakpoints.md">facilities or equipment?
        </span>
      </div>

      <div class="col-md-4">
        <br>
        <span data-ng-class="{ 'pull-right': _getWidth() >= _bootstrap.grid.breakpoints.md }">
          <button class="btn btn-default btn-lg btn-outline" data-ui-sref="facilities.form.create">
            Submit your facility <span class="fa fa-arrow-right"></span>
          </button>
        </span>
      </div>
    </div>

    <br data-ng-show="_getWidth() < _bootstrap.grid.breakpoints.md">
    <p data-ng-class="{ 'pull-right': _getWidth() >= _bootstrap.grid.breakpoints.md }">Already submitted? <a data-ui-sref="facilities.update">Edit your facility here</a>.</p>
  </div>
</div>

<div class="container">
  <!-- Here's what AFRED can do you for. -->
  <div class="af-home-what-can-afred-do-for-you">
    <p class="h3">Here's what AFRED can do for you!</p>
    
    <div class="row">
      <div class="col-md-3">
        <div class="row">
          <div data-ng-class="{ 'col-sm-3': _getWidth() >= _bootstrap.grid.breakpoints.md, 'col-sm-1': _getWidth() < _bootstrap.grid.breakpoints.md }">
            <p class="h4">
              <span class="fa-stack fa-lg">
                <span class="fa fa-circle fa-stack-2x"></span>
                <span class="fa fa-star fa-stack-1x fa-inverse"></span>
              </span>
            </p>
          </div>

          <div data-ng-class="{ 'col-sm-9': _getWidth() >= _bootstrap.grid.breakpoints.md, 'col-sm-11': _getWidth() < _bootstrap.grid.breakpoints.md }">
            <p class="h4">Research Intensification</p>
          </div>
        </div>
        
        <p>
          Drive research intensification and strengthen the research community
          in Atlantic Canada.
        </p>
      </div>

      <div class="col-md-3">
        <div class="row">
          <div data-ng-class="{ 'col-sm-3': _getWidth() >= _bootstrap.grid.breakpoints.md, 'col-sm-1': _getWidth() < _bootstrap.grid.breakpoints.md }">
            <p class="h4">
              <span class="fa-stack fa-lg">
                <span class="fa fa-circle fa-stack-2x"></span>
                <span class="fa fa-puzzle-piece fa-stack-1x fa-inverse"></span>
              </span>
            </p>
          </div>

          <div data-ng-class="{ 'col-sm-9': _getWidth() >= _bootstrap.grid.breakpoints.md, 'col-sm-11': _getWidth() < _bootstrap.grid.breakpoints.md }">
            <p class="h4">Partnerships & Collaborations</p>
          </div>
        </div>

        <p>
          Foster new partnerships and collaborations between researchers, industry,
          and government.
        </p>
      </div>

      <div class="col-md-3">
        <div class="row">
          <div data-ng-class="{ 'col-sm-3': _getWidth() >= _bootstrap.grid.breakpoints.md, 'col-sm-1': _getWidth() < _bootstrap.grid.breakpoints.md }">
            <p class="h4">
              <span class="fa-stack fa-lg">
                <span class="fa fa-circle fa-stack-2x"></span>
                <span class="fa fa-usd fa-stack-1x fa-inverse"></span>
              </span>
            </p>
          </div>

          <div data-ng-class="{ 'col-sm-9': _getWidth() >= _bootstrap.grid.breakpoints.md, 'col-sm-11': _getWidth() < _bootstrap.grid.breakpoints.md }">
            <p class="h4">Cost Savings</p>
          </div>
        </div>

        <p>
          Facilitate cost savings and speed to solutions through access to 
          sophisticated technical infrastructure and expertise.
        </p>
      </div>

      <div class="col-md-3">
        <div class="row">
          <div data-ng-class="{ 'col-sm-3': _getWidth() >= _bootstrap.grid.breakpoints.md, 'col-sm-1': _getWidth() < _bootstrap.grid.breakpoints.md }">
            <p class="h4">
              <span class="fa-stack fa-lg">
                <span class="fa fa-circle fa-stack-2x"></span>
                <span class="fa fa-line-chart fa-stack-1x fa-inverse"></span>
              </span>
            </p>
          </div>

          <div data-ng-class="{ 'col-sm-9': _getWidth() >= _bootstrap.grid.breakpoints.md, 'col-sm-11': _getWidth() < _bootstrap.grid.breakpoints.md }">
            <p class="h4">Revenue Generation</p>
          </div>
        </div>

        <p>
          Create new income opportunities for infrastructure owners by listing 
          equipment and facilities available for use.
        </p>
      </div>
    </div>
  </div><!-- End of .home-what-can-afred-do-for-you -->

  <hr>

  <!-- 'Have a Look', 'What's New', 'Recent Tweets'. -->
  <div class="row">
    <div class="col-md-4">
      <p class="h3">Have a Look</p>
      
      <div data-af-loading="!haveALook.$resolved">
        <div data-ng-repeat="e in haveALook.equipment">
          <p style="padding-bottom: 3px;">
            <a data-ui-sref="facilities.show.equipment.show({ facilityId: e.facilityId, equipmentId: e.id })" target="_blank">
              <!-- For large screens. -->
              <span data-ng-if="_getWidth() >= _bootstrap.grid.breakpoints.md">
                {{ e.type | limitTo: 35 }}<span data-ng-if="e.type.length > 35">...</span><br>
                <small class="text-muted">{{ e.purposeNoHtml | limitTo: 100 }}<span data-ng-if="e.purposeNoHtml.length > 100">...</span></small>
              </span>
              <!-- For smaller screens. -->
              <span data-ng-if="_getWidth() < _bootstrap.grid.breakpoints.md">
                {{ e.type }}<br>
                <small class="text-muted">{{ e.purposeNoHtml | limitTo: 200 }}<span data-ng-if="e.purposeNoHtml.length > 200">...</span></small>
              </span>
            </a>
          </p>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <p class="h3">What's New</p>
      
      <p>
        <div data-af-loading="!whatsNew.$resolved">
          <div data-bind-html-compile="whatsNew.content.rendered"></div>
        </div>
      </p>
    </div>

    <div class="col-md-4">
      <p class="h3">Recent Tweets</p>

      <p>
        <a class="twitter-timeline" data-height="285" data-chrome="noheader nofooter noborders" href="https://twitter.com/AFREDatabase">Tweets by AFREDatabase</a>
      </p>
      <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
  </div>
</div> <!-- End of .container -->
