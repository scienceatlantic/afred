<div class="af-search-page-results" data-dir-paginate="e in search.results | itemsPerPage: search.resource.hitsPerPage" data-total-items="search.resource.nbHits" data-pagination-id="equipmentResults" data-current-page="search.query.page">
  <a data-ui-sref="facilities.show.equipment.show({ facilityId: e.facility.id, equipmentId: e.id })" target="_self">
    <div class="panel panel-default">
      <div class="panel-body">
        <p class="h4">
          <span data-ng-bind-html="e._highlightResult.type.value || e.type"></span> |
          <span data-ng-bind-html="e._highlightResult.facility.name.value || e.facility.name"></span>
        </p>
        
        <p class="small text-muted">
          <span data-ng-show="e.facility.organization.name">
            <span data-ng-bind-html="e._highlightResult.organization.name.value || e.facility.organization.name"></span>,
          </span>
          <span data-ng-show="e.facility.city">
            <span data-ng-bind-html="e._highlightResult.facility.city.value || e.facility.city"></span>,
          </span> 
          <span data-ng-bind-html="e._highlightResult.facility.province.name.value || e.facility.province.name"></span>
        </p>

        <p data-ng-if="e.purposeNoHtml && !e._snippetResult.purposeNoHtml.value">
          <span>{{ e.purposeNoHtml | limitTo: 170 }}</span><span data-ng-show="e.purposeNoHtml.length > 170">...</span>
        </p>

        <p data-ng-show="e._snippetResult.purposeNoHtml.value">
          <span data-ng-bind-html="e._snippetResult.purposeNoHtml.value"></span>
        </p>
      </div>
    </div>
  </a>
</div><!-- End of dir-paginate -->

<div data-dir-pagination-controls data-pagination-id="equipmentResults" data-on-page-change="_state.is('search.q') ? search.index(false, search.query.page, true) : search.index(true, search.query.page, true)" data-ng-disabled="true" data-max-size="_getWidth() < 400 ? 5 : 9"></div>
